<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>LinkHub — fast mobile link manager (up to 10k links)</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#93a0b3;--glass:rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#041024 0%, #071229 60%);font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#e6eef6}
    .app{max-width:900px;margin:0 auto;padding:16px}
    header{display:flex;gap:12px;align-items:center;margin-bottom:12px}
    .brand{display:flex;flex-direction:column}
    .title{font-size:18px;font-weight:700;letter-spacing:0.2px}
    .subtitle{font-size:12px;color:var(--muted);margin-top:2px}

    .searchWrap{display:flex;gap:8px;align-items:center}
    .search{flex:1;display:flex;background:var(--card);border-radius:12px;padding:10px;align-items:center;box-shadow:0 6px 18px rgba(2,6,23,0.5);backdrop-filter: blur(6px)}
    .search input{flex:1;border:0;background:transparent;color:inherit;font-size:16px;outline:none}
    .clear{background:transparent;border:0;color:var(--muted);font-size:14px;padding:6px;border-radius:8px}

    .controls{display:flex;gap:8px;margin-left:8px}
    .btn{background:linear-gradient(180deg,var(--accent),#0bb7c6);color:#002a2d;padding:8px 12px;border-radius:10px;font-weight:700;border:0;box-shadow:0 6px 20px rgba(6,182,212,0.12)}
    .btn.secondary{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)}

    .meta{font-size:13px;color:var(--muted);margin:10px 0}

    /* Virtual list container */
    .listWrap{height:calc(100vh - 160px);overflow:auto;border-radius:14px;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}
    .spacer{width:100%}
    .item{height:64px;display:flex;align-items:center;gap:12px;padding:10px;border-radius:10px;margin:6px 4px;background:var(--glass);transform-origin:left center;transition:transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .2s;box-shadow:0 6px 18px rgba(2,6,23,0.45)}
    .item:hover{transform:translateX(6px);box-shadow:0 12px 36px rgba(2,6,23,0.6)}
    .favicon{width:44px;height:44px;border-radius:8px;background:linear-gradient(180deg,#081730,#062033);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent);font-size:14px}
    .content{flex:1;min-width:0}
    .label{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .url{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .open{margin-left:8px;border:0;padding:8px 10px;border-radius:10px;background:transparent;color:var(--accent);font-weight:700}

    .highlight{background:linear-gradient(90deg, rgba(6,182,212,0.16), rgba(6,182,212,0.04));padding:2px 6px;border-radius:6px}

    /* mobile tweaks */
    @media (max-width:520px){.app{padding:12px}.title{font-size:16px}.search input{font-size:15px}.item{height:60px}}

    /* subtle loading shimmer */
    .shimmer{animation:shimmer 1.6s linear infinite;background:linear-gradient(90deg, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.04) 50%, rgba(255,255,255,0.02) 100%);background-size:200% 100%}
    @keyframes shimmer{from{background-position:200% 0}to{background-position:-200% 0}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="title">LinkHub</div>
        <div class="subtitle">Fast mobile-friendly links list — keep links in the code (10k+ supported)</div>
      </div>
      <div style="flex:1"></div>
    </header>

    <div class="searchWrap">
      <div class="search" role="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="margin-right:8px;opacity:.9"><path d="M21 21l-4.35-4.35" stroke="#9ad6de" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="#9ad6de" stroke-width="1.6"></circle></svg>
        <input id="q" inputmode="search" autocomplete="off" placeholder="Search links, e.g. youtube, chatgpt, adobe..." />
        <button id="clear" class="clear" title="clear">✕</button>
      </div>
      <div class="controls">
        <button id="sortBtn" class="btn secondary">Sort: name</button>
        <button id="addSample" class="btn">Add 100 sample</button>
      </div>
    </div>

    <div class="meta"><span id="count">0</span> links • Showing <span id="showing">0</span></div>

    <div id="listWrap" class="listWrap" tabindex="0">
      <!-- We render with a spacer strategy for virtualization -->
      <div id="topSpacer" class="spacer"></div>
      <div id="visible"></div>
      <div id="bottomSpacer" class="spacer"></div>
    </div>

    <div style="height:14px"></div>

    <footer style="font-size:12px;color:var(--muted);text-align:center">Tip: paste your links into the <code>LINKS</code> array inside the HTML file (see top comments). Open links in new tab.</footer>
  </div>

  <script>
    /*************************************************************************
     * LinkHub — single-file link manager
     * Instructions:
     * - Replace the LINKS array below with your up to ~10,000 link objects.
     * - Each object: {title: 'YouTube', url: 'https://www.youtube.com'}
     * - This file uses virtualization and simple client-side search for performance.
     *************************************************************************/

    // ===== Example LINKS array. Replace this block with your ~10k links. =====
    const LINKS = [
      {title: 'YouTube', url: 'https://youtube.com'},
      {title: 'Instagram', url: 'https://instagram.com'},
      {title: 'Facebook', url: 'https://facebook.com'},
      {title: 'ChatGPT', url: 'https://chat.openai.com'},
      {title: 'Adobe', url: 'https://adobe.com'},
      {title: 'GitHub', url: 'https://github.com'},
      {title: 'Gmail', url: 'https://mail.google.com'},
      {title: 'Stack Overflow', url: 'https://stackoverflow.com'},
      {title: 'Reddit', url: 'https://reddit.com'},
      {title: 'Twitter', url: 'https://twitter.com'}
    ];
    // =======================================================================

    // Performance notes: don't create full DOM for 10k items. We virtualize.
    const ITEM_HEIGHT = 76; // includes margins
    const VISIBLE_BUFFER = 8; // extra items above/below

    let data = LINKS.slice(); // original order
    let filtered = data;
    let sortBy = 'name';

    const listWrap = document.getElementById('listWrap');
    const topSpacer = document.getElementById('topSpacer');
    const bottomSpacer = document.getElementById('bottomSpacer');
    const visible = document.getElementById('visible');
    const qInput = document.getElementById('q');
    const countEl = document.getElementById('count');
    const showingEl = document.getElementById('showing');
    const clearBtn = document.getElementById('clear');
    const sortBtn = document.getElementById('sortBtn');
    const addSample = document.getElementById('addSample');

    function updateCounts(){
      countEl.textContent = data.length.toLocaleString();
      showingEl.textContent = filtered.length.toLocaleString();
    }

    function makeFaviconText(title){
      // Return 2-letter short text for favicon block
      if(!title) return 'Lk';
      const parts = title.trim().split(/\s+/);
      if(parts.length === 1) return parts[0].slice(0,2).toUpperCase();
      return (parts[0][0] + parts[1][0]).toUpperCase();
    }

    function renderItem(item, idx, query){
      const div = document.createElement('div');
      div.className = 'item';

      const fav = document.createElement('div'); fav.className = 'favicon'; fav.textContent = makeFaviconText(item.title);
      const content = document.createElement('div'); content.className = 'content';

      const title = document.createElement('div'); title.className = 'label';
      // highlight query terms
      if(query){
        const safe = escapeHtml(item.title);
        const re = new RegExp('('+escapeReg(query)+')','ig');
        title.innerHTML = safe.replace(re, '<span class="highlight">$1</span>');
      } else {
        title.textContent = item.title;
      }

      const url = document.createElement('div'); url.className = 'url'; url.textContent = item.url;
      content.appendChild(title); content.appendChild(url);

      const open = document.createElement('button'); open.className = 'open'; open.textContent = 'Open';
      open.addEventListener('click', (e)=>{ e.stopPropagation(); window.open(item.url, '_blank'); });

      div.appendChild(fav); div.appendChild(content); div.appendChild(open);

      // clicking the row opens link as well
      div.addEventListener('click', ()=> window.open(item.url, '_blank'));
      return div;
    }

    function escapeHtml(s){ return s.replace(/[&<>\"]/g, (c)=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[c])); }
    function escapeReg(s){ return s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'); }

    function virtualRender(){
      const scrollTop = listWrap.scrollTop;
      const height = listWrap.clientHeight;
      const total = filtered.length;
      const totalHeight = total * ITEM_HEIGHT;

      const firstVisible = Math.floor(scrollTop / ITEM_HEIGHT);
      const start = Math.max(0, firstVisible - VISIBLE_BUFFER);
      const end = Math.min(total, Math.ceil((scrollTop + height) / ITEM_HEIGHT) + VISIBLE_BUFFER);

      topSpacer.style.height = (start * ITEM_HEIGHT) + 'px';
      bottomSpacer.style.height = ((total - end) * ITEM_HEIGHT) + 'px';

      // clear and add
      visible.innerHTML = '';
      const q = qInput.value.trim();
      for(let i=start;i<end;i++){
        const node = renderItem(filtered[i], i, q);
        visible.appendChild(node);
      }

      // accessibility
      showingEl.textContent = (end - start).toLocaleString();
    }

    // debounce helper
    function debounce(fn, t=160){ let _; return (...a)=>{ clearTimeout(_); _ = setTimeout(()=>fn(...a), t); } }

    function doSearch(){
      const q = qInput.value.trim().toLowerCase();
      if(!q){ filtered = data; updateCounts(); virtualRender(); return; }
      // simple substring search across title and url
      const parts = q.split(/\s+/).filter(Boolean);
      filtered = data.filter(item => {
        const hay = (item.title + ' ' + item.url).toLowerCase();
        return parts.every(p => hay.indexOf(p) !== -1);
      });
      updateCounts();
      virtualRender();
    }

    const searchDebounced = debounce(doSearch, 160);

    // sorting function
    function toggleSort(){
      if(sortBy === 'name'){
        data.sort((a,b)=> b.title.localeCompare(a.title)); sortBy='name_desc'; sortBtn.textContent='Sort: name ↓';
      } else { data.sort((a,b)=> a.title.localeCompare(b.title)); sortBy='name'; sortBtn.textContent='Sort: name'; }
      // re-filter after sorting
      doSearch();
    }

    // add 100 sample items (for testing) — helpful on phones
    function addSample100(){
      const base = data.length;
      for(let i=0;i<100;i++){
        data.push({title:`Sample ${base + i + 1}`, url:`https://example.com/${base + i + 1}`});
      }
      doSearch();
    }

    // keyboard shortcuts (mobile friendly: detect ctrl for desktop)
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'k' && (e.ctrlKey || e.metaKey)){ e.preventDefault(); qInput.focus(); qInput.select(); }
    });

    // utilities and init
    updateCounts();
    listWrap.addEventListener('scroll', virtualRender, {passive:true});
    qInput.addEventListener('input', (e)=>{ searchDebounced(); });
    clearBtn.addEventListener('click', ()=>{ qInput.value=''; doSearch(); qInput.focus(); });
    sortBtn.addEventListener('click', toggleSort);
    addSample.addEventListener('click', addSample100);

    // initial render — small timeout to allow fonts & layout
    setTimeout(()=>{ virtualRender(); }, 80);

    // If you plan to paste a very large list directly, keep this trick: build the array as a single JS literal (not DOM) to keep parsing fast.
  </script>
</body>
</html>
